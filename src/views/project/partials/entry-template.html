<!-- directory -->
<div 
  ng-if="entry.isDirectory">

  <div class="entry entry-directory" ng-click="toggleDirectory(this, entry)">
    <span ui-tree-handle></span>
    <span>
      directory: {{ entry.name }}
    </span>
    <span ng-hide="!entry.data.isLoading">loading</span>
  </div>

  <ul
    class="directory-contents"
    ng-class="{ hidden: collapsed, empty: entry.isEmpty }"
    ui-tree-nodes
    ng-model="entry.entries"
    file-drop="uploadFiles(entry, $files)">
    <li
      ng-repeat="entry in entry.entries"
      ui-tree-node
      collapsed="true"
      ng-include="'views/project/partials/entry-template.html'">
    </li>
  </ul>
</div>

<!-- file -->
<div ng-if="entry.isFile">
  <div
    class="entry entry-file"
    ng-click="openFile(entry)">
    <span ui-tree-handle></span>
    <span>
      <a target="_blank" ng-href="{{ entry.data.url }}">
        file: {{ entry.name }}
      </a>
    </span>
    <span ng-hide="!entry.data.uploadProgress || entry.data.uploadProgress === 1">
      {{ entry.data.uploadProgress }}
    </span>
    <span ng-hide="!entry.data.uploadMessage">
      {{ entry.data.uploadMessage }}
    </span>
  </div>
</div>